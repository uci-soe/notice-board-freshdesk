import React from 'react';
import { Row, Col, ListGroupItem } from 'reactstrap';
import './NoticeboardItem.css';
import moment from 'moment';
export default function NoticeboardItem({
  ticket
}) {
  return React.createElement(ListGroupItem, {
    className: "freshdesk-list fr-ticket-item",
    key: ticket.id
  }, displayPriority(ticket.priority), React.createElement(Row, null, React.createElement(Col, {
    xs: "8"
  }, React.createElement("div", {
    className: "fr-title"
  }, ticket.subject), React.createElement("div", {
    className: "fr-description"
  }, displayContent(converseOrDesc(ticket.description_text, ticket.conversations)))), React.createElement(Col, {
    xs: "4"
  }, React.createElement(Row, null, React.createElement(Col, {
    xs: "12"
  }, React.createElement("div", {
    className: "fr-requester"
  }, ticket.requester.name))), React.createElement(Row, null, React.createElement(Col, {
    xs: "12"
  }, React.createElement("div", {
    className: "fr-date"
  }, parseDates(ticket.created_at)))), React.createElement(Row, {
    style: {
      padding: "0.5rem 0 0.3rem 0"
    }
  }, React.createElement(Col, {
    xs: "4"
  }, "Tags:"), React.createElement(Col, {
    xs: "8",
    className: "fr-tags"
  }, displayTags(ticket.tags))), React.createElement(Row, null, React.createElement(Col, {
    xs: "4"
  }, "Status:"), React.createElement(Col, {
    xs: "8"
  }, displayStatus(ticket.status))))));
}

function converseOrDesc(description, conversations) {
  if (conversations && conversations.length) {
    // return the body of text of the latest email/note sent
    return conversations[conversations.length - 1].body_text;
  }

  return description;
}

function parseDates(UTCDate) {
  let m = moment(UTCDate).format('llll');
  return m;
}

function displayContent(desp_text) {
  if (desp_text && desp_text.length > 250) {
    return desp_text.substring(0, 250) + "...";
  } else {
    return desp_text;
  }
}

function displayTags(tags) {
  if (tags.length === 0) {
    return React.createElement("div", {
      className: "fr-empty"
    });
  } else {
    return tags.map(name => React.createElement("div", {
      className: "fr-tag"
    }, name));
  }
}

function displayStatus(status) {
  let status_text = "";

  switch (status) {
    case 2:
      status_text = "OPEN";
      break;

    case 3:
      status_text = "PENDING";
      break;

    case 4:
      status_text = "RESOLVED";
      break;

    case 5:
      status_text = "CLOSED";
      break;

    default:
      status_text = "None";
  }

  return React.createElement("div", {
    className: "fr-ticket-property"
  }, status_text);
}

function displayPriority(priority) {
  switch (priority) {
    case 2:
      return React.createElement("div", {
        className: "fr-priority medium"
      });

    case 3:
      return React.createElement("div", {
        className: "fr-priority high"
      });

    default:
      return React.createElement("div", {
        className: "fr-priority low"
      });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL05vdGljZWJvYXJkSXRlbS5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsIlJvdyIsIkNvbCIsIkxpc3RHcm91cEl0ZW0iLCJtb21lbnQiLCJOb3RpY2Vib2FyZEl0ZW0iLCJ0aWNrZXQiLCJpZCIsImRpc3BsYXlQcmlvcml0eSIsInByaW9yaXR5Iiwic3ViamVjdCIsImRpc3BsYXlDb250ZW50IiwiY29udmVyc2VPckRlc2MiLCJkZXNjcmlwdGlvbl90ZXh0IiwiY29udmVyc2F0aW9ucyIsInJlcXVlc3RlciIsIm5hbWUiLCJwYXJzZURhdGVzIiwiY3JlYXRlZF9hdCIsInBhZGRpbmciLCJkaXNwbGF5VGFncyIsInRhZ3MiLCJkaXNwbGF5U3RhdHVzIiwic3RhdHVzIiwiZGVzY3JpcHRpb24iLCJsZW5ndGgiLCJib2R5X3RleHQiLCJVVENEYXRlIiwibSIsImZvcm1hdCIsImRlc3BfdGV4dCIsInN1YnN0cmluZyIsIm1hcCIsInN0YXR1c190ZXh0Il0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxLQUFQLE1BQWtCLE9BQWxCO0FBQ0EsU0FDSUMsR0FESixFQUNTQyxHQURULEVBRUlDLGFBRkosUUFHTyxZQUhQO0FBSUEsT0FBTyx1QkFBUDtBQUNBLE9BQU9DLE1BQVAsTUFBbUIsUUFBbkI7QUFFQSxlQUFlLFNBQVNDLGVBQVQsQ0FBMEI7QUFBQ0MsRUFBQUE7QUFBRCxDQUExQixFQUFvQztBQUUvQyxTQUNJLG9CQUFDLGFBQUQ7QUFBZSxJQUFBLFNBQVMsRUFBQywrQkFBekI7QUFBeUQsSUFBQSxHQUFHLEVBQUVBLE1BQU0sQ0FBQ0M7QUFBckUsS0FDS0MsZUFBZSxDQUFDRixNQUFNLENBQUNHLFFBQVIsQ0FEcEIsRUFFSSxvQkFBQyxHQUFELFFBQ0ksb0JBQUMsR0FBRDtBQUFLLElBQUEsRUFBRSxFQUFDO0FBQVIsS0FDSTtBQUFLLElBQUEsU0FBUyxFQUFDO0FBQWYsS0FBMkJILE1BQU0sQ0FBQ0ksT0FBbEMsQ0FESixFQUVJO0FBQUssSUFBQSxTQUFTLEVBQUM7QUFBZixLQUFpQ0MsY0FBYyxDQUFDQyxjQUFjLENBQUNOLE1BQU0sQ0FBQ08sZ0JBQVIsRUFBMEJQLE1BQU0sQ0FBQ1EsYUFBakMsQ0FBZixDQUEvQyxDQUZKLENBREosRUFLSSxvQkFBQyxHQUFEO0FBQUssSUFBQSxFQUFFLEVBQUM7QUFBUixLQUNJLG9CQUFDLEdBQUQsUUFDSSxvQkFBQyxHQUFEO0FBQUssSUFBQSxFQUFFLEVBQUM7QUFBUixLQUFhO0FBQUssSUFBQSxTQUFTLEVBQUM7QUFBZixLQUErQlIsTUFBTSxDQUFDUyxTQUFQLENBQWlCQyxJQUFoRCxDQUFiLENBREosQ0FESixFQUlJLG9CQUFDLEdBQUQsUUFDSSxvQkFBQyxHQUFEO0FBQUssSUFBQSxFQUFFLEVBQUM7QUFBUixLQUFhO0FBQUssSUFBQSxTQUFTLEVBQUM7QUFBZixLQUEwQkMsVUFBVSxDQUFDWCxNQUFNLENBQUNZLFVBQVIsQ0FBcEMsQ0FBYixDQURKLENBSkosRUFPSSxvQkFBQyxHQUFEO0FBQUssSUFBQSxLQUFLLEVBQUU7QUFBQ0MsTUFBQUEsT0FBTyxFQUFFO0FBQVY7QUFBWixLQUNJLG9CQUFDLEdBQUQ7QUFBSyxJQUFBLEVBQUUsRUFBQztBQUFSLGFBREosRUFJSSxvQkFBQyxHQUFEO0FBQUssSUFBQSxFQUFFLEVBQUMsR0FBUjtBQUFZLElBQUEsU0FBUyxFQUFDO0FBQXRCLEtBQ0tDLFdBQVcsQ0FBQ2QsTUFBTSxDQUFDZSxJQUFSLENBRGhCLENBSkosQ0FQSixFQWVJLG9CQUFDLEdBQUQsUUFDSSxvQkFBQyxHQUFEO0FBQUssSUFBQSxFQUFFLEVBQUM7QUFBUixlQURKLEVBSUksb0JBQUMsR0FBRDtBQUFLLElBQUEsRUFBRSxFQUFDO0FBQVIsS0FDS0MsYUFBYSxDQUFDaEIsTUFBTSxDQUFDaUIsTUFBUixDQURsQixDQUpKLENBZkosQ0FMSixDQUZKLENBREo7QUFtQ0g7O0FBSUQsU0FBU1gsY0FBVCxDQUF3QlksV0FBeEIsRUFBcUNWLGFBQXJDLEVBQW9EO0FBRWhELE1BQUlBLGFBQWEsSUFBSUEsYUFBYSxDQUFDVyxNQUFuQyxFQUEyQztBQUN2QztBQUNBLFdBQU9YLGFBQWEsQ0FBQ0EsYUFBYSxDQUFDVyxNQUFkLEdBQXVCLENBQXhCLENBQWIsQ0FBd0NDLFNBQS9DO0FBQ0g7O0FBRUQsU0FBT0YsV0FBUDtBQUNIOztBQUlELFNBQVNQLFVBQVQsQ0FBcUJVLE9BQXJCLEVBQThCO0FBQzFCLE1BQUlDLENBQUMsR0FBR3hCLE1BQU0sQ0FBQ3VCLE9BQUQsQ0FBTixDQUFnQkUsTUFBaEIsQ0FBdUIsTUFBdkIsQ0FBUjtBQUNBLFNBQU9ELENBQVA7QUFDSDs7QUFFRCxTQUFTakIsY0FBVCxDQUF5Qm1CLFNBQXpCLEVBQW9DO0FBQ2hDLE1BQUlBLFNBQVMsSUFBSUEsU0FBUyxDQUFDTCxNQUFWLEdBQW1CLEdBQXBDLEVBQXlDO0FBQ3JDLFdBQU9LLFNBQVMsQ0FBQ0MsU0FBVixDQUFvQixDQUFwQixFQUF1QixHQUF2QixJQUE4QixLQUFyQztBQUNILEdBRkQsTUFFTztBQUNILFdBQU9ELFNBQVA7QUFDSDtBQUNKOztBQUVELFNBQVNWLFdBQVQsQ0FBc0JDLElBQXRCLEVBQTRCO0FBQ3hCLE1BQUlBLElBQUksQ0FBQ0ksTUFBTCxLQUFnQixDQUFwQixFQUF1QjtBQUNuQixXQUNFO0FBQUssTUFBQSxTQUFTLEVBQUM7QUFBZixNQURGO0FBR0gsR0FKRCxNQUlPO0FBQ0gsV0FDRUosSUFBSSxDQUFDVyxHQUFMLENBQVNoQixJQUFJLElBQUk7QUFBSyxNQUFBLFNBQVMsRUFBQztBQUFmLE9BQXlCQSxJQUF6QixDQUFqQixDQURGO0FBR0g7QUFDSjs7QUFFRCxTQUFTTSxhQUFULENBQXdCQyxNQUF4QixFQUFnQztBQUM1QixNQUFJVSxXQUFXLEdBQUcsRUFBbEI7O0FBQ0EsVUFBT1YsTUFBUDtBQUNJLFNBQUssQ0FBTDtBQUNJVSxNQUFBQSxXQUFXLEdBQUcsTUFBZDtBQUNBOztBQUNKLFNBQUssQ0FBTDtBQUNJQSxNQUFBQSxXQUFXLEdBQUcsU0FBZDtBQUNBOztBQUNKLFNBQUssQ0FBTDtBQUNJQSxNQUFBQSxXQUFXLEdBQUcsVUFBZDtBQUNBOztBQUNKLFNBQUssQ0FBTDtBQUNJQSxNQUFBQSxXQUFXLEdBQUcsUUFBZDtBQUNBOztBQUNKO0FBQ0lBLE1BQUFBLFdBQVcsR0FBRyxNQUFkO0FBZFI7O0FBZ0JBLFNBQVE7QUFBSyxJQUFBLFNBQVMsRUFBQztBQUFmLEtBQXFDQSxXQUFyQyxDQUFSO0FBQ0g7O0FBRUQsU0FBU3pCLGVBQVQsQ0FBMEJDLFFBQTFCLEVBQW9DO0FBQ2hDLFVBQU9BLFFBQVA7QUFDSSxTQUFLLENBQUw7QUFDSSxhQUNFO0FBQUssUUFBQSxTQUFTLEVBQUM7QUFBZixRQURGOztBQUdKLFNBQUssQ0FBTDtBQUNJLGFBQ0U7QUFBSyxRQUFBLFNBQVMsRUFBQztBQUFmLFFBREY7O0FBR0o7QUFDSSxhQUNFO0FBQUssUUFBQSxTQUFTLEVBQUM7QUFBZixRQURGO0FBVlI7QUFjSCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICAgIFJvdywgQ29sLFxuICAgIExpc3RHcm91cEl0ZW1cbn0gZnJvbSAncmVhY3RzdHJhcCc7XG5pbXBvcnQgJy4vTm90aWNlYm9hcmRJdGVtLmNzcyc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE5vdGljZWJvYXJkSXRlbSAoe3RpY2tldH0pIHtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxMaXN0R3JvdXBJdGVtIGNsYXNzTmFtZT1cImZyZXNoZGVzay1saXN0IGZyLXRpY2tldC1pdGVtXCIga2V5PXt0aWNrZXQuaWR9PlxuICAgICAgICAgICAge2Rpc3BsYXlQcmlvcml0eSh0aWNrZXQucHJpb3JpdHkpfVxuICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgICA8Q29sIHhzPVwiOFwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZyLXRpdGxlXCI+e3RpY2tldC5zdWJqZWN0fTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZyLWRlc2NyaXB0aW9uXCI+e2Rpc3BsYXlDb250ZW50KGNvbnZlcnNlT3JEZXNjKHRpY2tldC5kZXNjcmlwdGlvbl90ZXh0LCB0aWNrZXQuY29udmVyc2F0aW9ucykpfTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgICAgICAgIDxDb2wgeHM9XCI0XCI+XG4gICAgICAgICAgICAgICAgICAgIDxSb3c+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPVwiMTJcIj48ZGl2IGNsYXNzTmFtZT1cImZyLXJlcXVlc3RlclwiPnt0aWNrZXQucmVxdWVzdGVyLm5hbWV9PC9kaXY+PC9Db2w+XG4gICAgICAgICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbCB4cz1cIjEyXCI+PGRpdiBjbGFzc05hbWU9XCJmci1kYXRlXCI+e3BhcnNlRGF0ZXModGlja2V0LmNyZWF0ZWRfYXQpfTwvZGl2PjwvQ29sPlxuICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgPFJvdyBzdHlsZT17e3BhZGRpbmc6IFwiMC41cmVtIDAgMC4zcmVtIDBcIn19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbCB4cz1cIjRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUYWdzOlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPVwiOFwiIGNsYXNzTmFtZT1cImZyLXRhZ3NcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGlzcGxheVRhZ3ModGlja2V0LnRhZ3MpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbCB4cz1cIjRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTdGF0dXM6XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDb2wgeHM9XCI4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Rpc3BsYXlTdGF0dXModGlja2V0LnN0YXR1cyl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgPC9MaXN0R3JvdXBJdGVtPlxuICAgICk7XG59XG5cblxuXG5mdW5jdGlvbiBjb252ZXJzZU9yRGVzYyhkZXNjcmlwdGlvbiwgY29udmVyc2F0aW9ucykge1xuXG4gICAgaWYgKGNvbnZlcnNhdGlvbnMgJiYgY29udmVyc2F0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgLy8gcmV0dXJuIHRoZSBib2R5IG9mIHRleHQgb2YgdGhlIGxhdGVzdCBlbWFpbC9ub3RlIHNlbnRcbiAgICAgICAgcmV0dXJuIGNvbnZlcnNhdGlvbnNbY29udmVyc2F0aW9ucy5sZW5ndGggLSAxXS5ib2R5X3RleHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xufVxuXG5cblxuZnVuY3Rpb24gcGFyc2VEYXRlcyAoVVRDRGF0ZSkge1xuICAgIGxldCBtID0gbW9tZW50KFVUQ0RhdGUpLmZvcm1hdCgnbGxsbCcpXG4gICAgcmV0dXJuIG07XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlDb250ZW50IChkZXNwX3RleHQpIHtcbiAgICBpZiAoZGVzcF90ZXh0ICYmIGRlc3BfdGV4dC5sZW5ndGggPiAyNTApIHtcbiAgICAgICAgcmV0dXJuIGRlc3BfdGV4dC5zdWJzdHJpbmcoMCwgMjUwKSArIFwiLi4uXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRlc3BfdGV4dDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRpc3BsYXlUYWdzICh0YWdzKSB7XG4gICAgaWYgKHRhZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmci1lbXB0eVwiPjwvZGl2PlxuICAgICAgICApXG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICB0YWdzLm1hcChuYW1lID0+IDxkaXYgY2xhc3NOYW1lPVwiZnItdGFnXCI+e25hbWV9PC9kaXY+KVxuICAgICAgICApO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZGlzcGxheVN0YXR1cyAoc3RhdHVzKSB7XG4gICAgbGV0IHN0YXR1c190ZXh0ID0gXCJcIjtcbiAgICBzd2l0Y2goc3RhdHVzKSB7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgIHN0YXR1c190ZXh0ID0gXCJPUEVOXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgc3RhdHVzX3RleHQgPSBcIlBFTkRJTkdcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICBzdGF0dXNfdGV4dCA9IFwiUkVTT0xWRURcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICBzdGF0dXNfdGV4dCA9IFwiQ0xPU0VEXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHN0YXR1c190ZXh0ID0gXCJOb25lXCI7XG4gICAgfVxuICAgIHJldHVybiAoPGRpdiBjbGFzc05hbWU9XCJmci10aWNrZXQtcHJvcGVydHlcIj57c3RhdHVzX3RleHR9PC9kaXY+KTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheVByaW9yaXR5IChwcmlvcml0eSkge1xuICAgIHN3aXRjaChwcmlvcml0eSkge1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZyLXByaW9yaXR5IG1lZGl1bVwiPjwvZGl2PlxuICAgICAgICAgICAgKTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmci1wcmlvcml0eSBoaWdoXCI+PC9kaXY+XG4gICAgICAgICAgICApO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmci1wcmlvcml0eSBsb3dcIj48L2Rpdj5cbiAgICAgICAgICAgICk7XG4gICAgfVxufVxuIl19