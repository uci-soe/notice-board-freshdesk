import React from 'react';
import { Row, Col, ListGroupItem } from 'reactstrap';
import './NoticeboardItem.css';
export default function NoticeboardItem({
  ticket
}) {
  const parseDates = UTCDate => {
    const date = new Date(UTCDate);
    const year = date.getFullYear();
    const month = date.getMonth() + 1;
    const formattedMonth = month < 10 ? "0" + month : month;
    const day = date.getDate() < 10 ? "0" + date.getDate() : date.getDate();
    const hours = (date.getHours() + 11) % 12 + 1;
    const minutes = date.getMinutes() < 10 ? "0" + date.getMinutes() : date.getMinutes();
    const suffix = date.getHours() > 12 ? "PM" : "AM";
    return year + "-" + formattedMonth + "-" + day + " " + hours + ":" + minutes + " " + suffix;
  };

  const displayContent = desp_text => {
    if (desp_text.length <= 250) {
      return desp_text;
    } else {
      return desp_text.substring(0, 250) + "...";
    }
  };

  const displayTags = tags => {
    if (tags.length === 0) {
      return React.createElement("div", {
        className: "fr-empty"
      });
    } else {
      return tags.map(name => React.createElement("div", {
        className: "fr-tag"
      }, name));
    }
  };

  const displayStatus = status => {
    let status_text = "";

    switch (status) {
      case 2:
        status_text = "OPEN";
        break;

      case 3:
        status_text = "PENDING";
        break;

      case 4:
        status_text = "RESOLVED";
        break;

      case 5:
        status_text = "CLOSED";
        break;

      default:
        status_text = "None";
    }

    return React.createElement("div", {
      className: "fr-ticket-property"
    }, status_text);
  };

  const displayPriority = priority => {
    let pri_text = "";

    switch (priority) {
      case 1:
        pri_text = "LOW";
        break;

      case 2:
        pri_text = "MEDIUM";
        break;

      case 3:
        pri_text = "HIGH";
        break;

      default:
        pri_text = "None";
    }

    return React.createElement("div", {
      className: "fr-ticket-property"
    }, pri_text);
  };

  const displayComplexity = complexity => {
    if (complexity === null) {
      return React.createElement("div", {
        className: "fr-ticket-property"
      }, "None");
    } else {
      return React.createElement("div", {
        className: "fr-ticket-property"
      }, complexity);
    }
  }; // console.log(ticket);


  return React.createElement(ListGroupItem, {
    className: "freshdesk-list",
    key: ticket.id
  }, React.createElement(Row, null, React.createElement(Col, {
    xs: "8"
  }, React.createElement(Row, null, React.createElement(Col, {
    xs: "7"
  }, React.createElement("div", {
    className: "fr-requester"
  }, ticket.requester.name)), React.createElement(Col, {
    xs: "5"
  }, React.createElement("div", {
    className: "fr-date"
  }, parseDates(ticket.created_at)))), React.createElement("div", {
    className: "fr-title"
  }, ticket.subject), React.createElement("div", {
    className: "fr-description"
  }, displayContent(ticket.description_text))), React.createElement(Col, {
    xs: "4",
    className: "right-col"
  }, React.createElement(Row, {
    className: "right-row"
  }, React.createElement(Col, {
    xs: "4"
  }, "Tags:"), React.createElement(Col, {
    xs: "8",
    className: "fr-tags"
  }, displayTags(ticket.tags))), React.createElement(Row, {
    className: "right-row"
  }, React.createElement(Col, {
    xs: "4"
  }, "Status:"), React.createElement(Col, {
    xs: "8"
  }, displayStatus(ticket.status))), React.createElement(Row, {
    className: "right-row"
  }, React.createElement(Col, {
    xs: "4"
  }, "Priority:"), React.createElement(Col, {
    xs: "8"
  }, displayPriority(ticket.priority))), React.createElement(Row, {
    className: "right-row"
  }, React.createElement(Col, {
    xs: "5"
  }, "Complexity:"), React.createElement(Col, {
    xs: "7"
  }, displayComplexity(ticket.custom_fields.cf_complexity))))));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9jb21wb25lbnRzL05vdGljZWJvYXJkSXRlbS5qcyJdLCJuYW1lcyI6WyJSZWFjdCIsIlJvdyIsIkNvbCIsIkxpc3RHcm91cEl0ZW0iLCJOb3RpY2Vib2FyZEl0ZW0iLCJ0aWNrZXQiLCJwYXJzZURhdGVzIiwiVVRDRGF0ZSIsImRhdGUiLCJEYXRlIiwieWVhciIsImdldEZ1bGxZZWFyIiwibW9udGgiLCJnZXRNb250aCIsImZvcm1hdHRlZE1vbnRoIiwiZGF5IiwiZ2V0RGF0ZSIsImhvdXJzIiwiZ2V0SG91cnMiLCJtaW51dGVzIiwiZ2V0TWludXRlcyIsInN1ZmZpeCIsImRpc3BsYXlDb250ZW50IiwiZGVzcF90ZXh0IiwibGVuZ3RoIiwic3Vic3RyaW5nIiwiZGlzcGxheVRhZ3MiLCJ0YWdzIiwibWFwIiwibmFtZSIsImRpc3BsYXlTdGF0dXMiLCJzdGF0dXMiLCJzdGF0dXNfdGV4dCIsImRpc3BsYXlQcmlvcml0eSIsInByaW9yaXR5IiwicHJpX3RleHQiLCJkaXNwbGF5Q29tcGxleGl0eSIsImNvbXBsZXhpdHkiLCJpZCIsInJlcXVlc3RlciIsImNyZWF0ZWRfYXQiLCJzdWJqZWN0IiwiZGVzY3JpcHRpb25fdGV4dCIsImN1c3RvbV9maWVsZHMiLCJjZl9jb21wbGV4aXR5Il0sIm1hcHBpbmdzIjoiQUFBQSxPQUFPQSxLQUFQLE1BQWtCLE9BQWxCO0FBQ0EsU0FDSUMsR0FESixFQUNTQyxHQURULEVBRUlDLGFBRkosUUFHTyxZQUhQO0FBSUEsT0FBTyx1QkFBUDtBQUVBLGVBQWUsU0FBU0MsZUFBVCxDQUEwQjtBQUFDQyxFQUFBQTtBQUFELENBQTFCLEVBQW9DO0FBRS9DLFFBQU1DLFVBQVUsR0FBSUMsT0FBRCxJQUFhO0FBQzVCLFVBQU1DLElBQUksR0FBRyxJQUFJQyxJQUFKLENBQVNGLE9BQVQsQ0FBYjtBQUNBLFVBQU1HLElBQUksR0FBR0YsSUFBSSxDQUFDRyxXQUFMLEVBQWI7QUFDQSxVQUFNQyxLQUFLLEdBQUdKLElBQUksQ0FB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UjtBQUFZLElBQUEsU0FBUyxFQUFDO0FBQXRCLEtBQ0toQixXQUFXLENBQUNyQixNQUFNLENBQUNzQixJQUFSLENBRGhCLENBSkosQ0FESixFQVNJLG9CQUFDLEdBQUQ7QUFBSyxJQUFBLFNBQVMsRUFBQztBQUFmLEtBQ0ksb0JBQUMsR0FBRDtBQUFLLElBQUEsRUFBRSxFQUFDO0FBQVIsZUFESixFQUlJLG9CQUFDLEdBQUQ7QUFBSyxJQUFBLEVBQUUsRUFBQztBQUFSLEtBQ0tHLGFBQWEsQ0FBQ3pCLE1BQU0sQ0FBQzBCLE1BQVIsQ0FEbEIsQ0FKSixDQVRKLEVBaUJJLG9CQUFDLEdBQUQ7QUFBSyxJQUFBLFNBQVMsRUFBQztBQUFmLEtBQ0ksb0JBQUMsR0FBRDtBQUFLLElBQUEsRUFBRSxFQUFDO0FBQVIsaUJBREosRUFJSSxvQkFBQyxHQUFEO0FBQUssSUFBQSxFQUFFLEVBQUM7QUFBUixLQUNLRSxlQUFlLENBQUM1QixNQUFNLENBQUM2QixRQUFSLENBRHBCLENBSkosQ0FqQkosRUF5Qkksb0JBQUMsR0FBRDtBQUFLLElBQUEsU0FBUyxFQUFDO0FBQWYsS0FDSSxvQkFBQyxHQUFEO0FBQUssSUFBQSxFQUFFLEVBQUM7QUFBUixtQkFESixFQUlJLG9CQUFDLEdBQUQ7QUFBSyxJQUFBLEVBQUUsRUFBQztBQUFSLEtBQ0tFLGlCQUFpQixDQUFDL0IsTUFBTSxDQUFDc0MsYUFBUCxDQUFxQkMsYUFBdEIsQ0FEdEIsQ0FKSixDQXpCSixDQVRKLENBREosQ0FESjtBQWdESCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICAgIFJvdywgQ29sLFxuICAgIExpc3RHcm91cEl0ZW1cbn0gZnJvbSAncmVhY3RzdHJhcCc7XG5pbXBvcnQgJy4vTm90aWNlYm9hcmRJdGVtLmNzcyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIE5vdGljZWJvYXJkSXRlbSAoe3RpY2tldH0pIHtcblxuICAgIGNvbnN0IHBhcnNlRGF0ZXMgPSAoVVRDRGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoVVRDRGF0ZSlcbiAgICAgICAgY29uc3QgeWVhciA9IGRhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgY29uc3QgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgICAgICBjb25zdCBmb3JtYXR0ZWRNb250aCA9IG1vbnRoIDwgMTAgPyBcIjBcIiArIG1vbnRoIDogbW9udGg7XG4gICAgICAgIGNvbnN0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpIDwgMTAgPyBcIjBcIiArIGRhdGUuZ2V0RGF0ZSgpIDogZGF0ZS5nZXREYXRlKCk7XG4gICAgICAgIGNvbnN0IGhvdXJzID0gKChkYXRlLmdldEhvdXJzKCkgKyAxMSkgJSAxMiArIDEpO1xuICAgICAgICBjb25zdCBtaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCkgPCAxMCA/IFwiMFwiICsgZGF0ZS5nZXRNaW51dGVzKCkgOiBkYXRlLmdldE1pbnV0ZXMoKTtcbiAgICAgICAgY29uc3Qgc3VmZml4ID0gZGF0ZS5nZXRIb3VycygpID4gMTIgPyBcIlBNXCIgOiBcIkFNXCI7XG4gICAgICAgIHJldHVybiB5ZWFyICsgXCItXCIgKyBmb3JtYXR0ZWRNb250aCArIFwiLVwiICsgZGF5ICsgXCIgXCIgKyBob3VycyArIFwiOlwiICsgbWludXRlcyArIFwiIFwiICsgc3VmZml4O1xuICAgIH1cblxuICAgIGNvbnN0IGRpc3BsYXlDb250ZW50ID0gKGRlc3BfdGV4dCkgPT4ge1xuICAgICAgICBpZiAoZGVzcF90ZXh0Lmxlbmd0aCA8PSAyNTApIHtcbiAgICAgICAgICAgIHJldHVybiBkZXNwX3RleHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZGVzcF90ZXh0LnN1YnN0cmluZygwLCAyNTApICsgXCIuLi5cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IGRpc3BsYXlUYWdzID0gKHRhZ3MpID0+IHtcbiAgICAgICAgaWYgKHRhZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZnItZW1wdHlcIj48L2Rpdj5cbiAgICAgICAgICAgIClcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgdGFncy5tYXAobmFtZSA9PiA8ZGl2IGNsYXNzTmFtZT1cImZyLXRhZ1wiPntuYW1lfTwvZGl2PilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBkaXNwbGF5U3RhdHVzID0gKHN0YXR1cykgPT4ge1xuICAgICAgICBsZXQgc3RhdHVzX3RleHQgPSBcIlwiO1xuICAgICAgICBzd2l0Y2goc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgc3RhdHVzX3RleHQgPSBcIk9QRU5cIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICBzdGF0dXNfdGV4dCA9IFwiUEVORElOR1wiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgIHN0YXR1c190ZXh0ID0gXCJSRVNPTFZFRFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHN0YXR1c190ZXh0ID0gXCJDTE9TRURcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgc3RhdHVzX3RleHQgPSBcIk5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDxkaXYgY2xhc3NOYW1lPVwiZnItdGlja2V0LXByb3BlcnR5XCI+e3N0YXR1c190ZXh0fTwvZGl2Pik7XG4gICAgfVxuXG4gICAgY29uc3QgZGlzcGxheVByaW9yaXR5ID0gKHByaW9yaXR5KSA9PiB7XG4gICAgICAgIGxldCBwcmlfdGV4dCA9IFwiXCI7XG4gICAgICAgIHN3aXRjaChwcmlvcml0eSkge1xuICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgIHByaV90ZXh0ID0gXCJMT1dcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBwcmlfdGV4dCA9IFwiTUVESVVNXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgcHJpX3RleHQgPSBcIkhJR0hcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcHJpX3RleHQgPSBcIk5vbmVcIjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDxkaXYgY2xhc3NOYW1lPVwiZnItdGlja2V0LXByb3BlcnR5XCI+e3ByaV90ZXh0fTwvZGl2Pik7XG4gICAgfVxuXG4gICAgY29uc3QgZGlzcGxheUNvbXBsZXhpdHkgPSAoY29tcGxleGl0eSkgPT4ge1xuICAgICAgICBpZiAoY29tcGxleGl0eSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT1cImZyLXRpY2tldC1wcm9wZXJ0eVwiPk5vbmU8L2Rpdj4pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT1cImZyLXRpY2tldC1wcm9wZXJ0eVwiPntjb21wbGV4aXR5fTwvZGl2Pik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gY29uc29sZS5sb2codGlja2V0KTtcblxuICAgIHJldHVybiAoXG4gICAgICAgIDxMaXN0R3JvdXBJdGVtIGNsYXNzTmFtZT1cImZyZXNoZGVzay1saXN0XCIga2V5PXt0aWNrZXQuaWR9PlxuICAgICAgICAgICAgPFJvdz5cbiAgICAgICAgICAgICAgICA8Q29sIHhzPVwiOFwiPlxuICAgICAgICAgICAgICAgICAgICA8Um93PlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbCB4cz1cIjdcIj48ZGl2IGNsYXNzTmFtZT1cImZyLXJlcXVlc3RlclwiPnt0aWNrZXQucmVxdWVzdGVyLm5hbWV9PC9kaXY+PC9Db2w+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPVwiNVwiPjxkaXYgY2xhc3NOYW1lPVwiZnItZGF0ZVwiPntwYXJzZURhdGVzKHRpY2tldC5jcmVhdGVkX2F0KX08L2Rpdj48L0NvbD5cbiAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZnItdGl0bGVcIj57dGlja2V0LnN1YmplY3R9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZnItZGVzY3JpcHRpb25cIj57ZGlzcGxheUNvbnRlbnQodGlja2V0LmRlc2NyaXB0aW9uX3RleHQpfTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgICAgICAgIDxDb2wgeHM9XCI0XCIgY2xhc3NOYW1lPVwicmlnaHQtY29sXCI+XG4gICAgICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwicmlnaHQtcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPVwiNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRhZ3M6XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDb2wgeHM9XCI4XCIgY2xhc3NOYW1lPVwiZnItdGFnc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkaXNwbGF5VGFncyh0aWNrZXQudGFncyl9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICAgICAgICAgICAgPC9Sb3c+XG4gICAgICAgICAgICAgICAgICAgIDxSb3cgY2xhc3NOYW1lPVwicmlnaHQtcm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPVwiNFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFN0YXR1czpcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbCB4cz1cIjhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7ZGlzcGxheVN0YXR1cyh0aWNrZXQuc3RhdHVzKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgICAgICAgICAgPFJvdyBjbGFzc05hbWU9XCJyaWdodC1yb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDb2wgeHM9XCI0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUHJpb3JpdHk6XG4gICAgICAgICAgICAgICAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxDb2wgeHM9XCI4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge2Rpc3BsYXlQcmlvcml0eSh0aWNrZXQucHJpb3JpdHkpfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgICAgICAgICAgIDwvUm93PlxuICAgICAgICAgICAgICAgICAgICA8Um93IGNsYXNzTmFtZT1cInJpZ2h0LXJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPENvbCB4cz1cIjVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb21wbGV4aXR5OlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9Db2w+XG4gICAgICAgICAgICAgICAgICAgICAgICA8Q29sIHhzPVwiN1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtkaXNwbGF5Q29tcGxleGl0eSh0aWNrZXQuY3VzdG9tX2ZpZWxkcy5jZl9jb21wbGV4aXR5KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgICAgICAgICAgICA8L1Jvdz5cbiAgICAgICAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICAgIDwvUm93PlxuICAgICAgICA8L0xpc3RHcm91cEl0ZW0+XG4gICAgKTtcbn1cbiJdfQ==